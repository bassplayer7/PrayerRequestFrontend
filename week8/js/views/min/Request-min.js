define(["jquery","PubSub","evt","HandleBars","text!./template/request.html"],function($,t,i,n,e){var E=function(t){this.model=t;var E=this,c=n.compile(e),u=$(c(this.model));u.find(".action-delete").click(function(){E.publishEvent(i.REQUEST_DELETE_INIT,$(this))}),u.find(".action-answer").click(function(){E.publishEvent(i.REQUEST_ANSWERED_INIT,$(this))}),u.find(".action-edit").click(function(){E.publishEvent(i.REQUEST_UPDATE_INIT,$(this))}),u.find(".button-update").click(function(){E.publishEvent(i.REQUEST_UPDATE_PREPARE_COMPLETE,$(this))}),u.find(".button-cancel").click(function(){E.publishEvent(i.REQUEST_UPDATE_CANCEL,$(this))}),this.getElement=function(){return u}};return E.prototype.publishEvent=function(i,n){t.publish(i,{model:this.model,element:n})},E});